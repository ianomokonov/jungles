<div class="children d-flex flex-wrap w-100">
  <app-user-card
    *ngFor="let child of profileService.children"
    [user]="child"
    [inactive]="child.id !== activeUserId"
    (click)="onUserClick(child.id)"
  ></app-user-card>
</div>
<div
  class="slider"
  [ngClass]="{
    'pl-0': !showLeftArrow,
    'pr-0': carousel.activeId == (profileService.children.length - 1).toString()
  }"
>
  <ngb-carousel
    class="w-100"
    [animation]="false"
    [interval]="0"
    [showNavigationArrows]="false"
    #carousel
    (slid)="onSlide($event)"
  >
    <ng-template
      [id]="i.toString()"
      ngbSlide
      *ngFor="let child of profileService.children; let i = index"
    >
      <div class="profile">
        <app-user-card
          [user]="child"
          [inactive]="child.id !== activeUserId"
          (click)="onUserClick(child.id)"
        ></app-user-card>
      </div>
    </ng-template>
  </ngb-carousel>
  <button class="btn btn-slider prev" (click)="carousel.prev()" *ngIf="showLeftArrow">
    <svg width="15" height="9" viewBox="0 0 15 9" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M7.00028 8.00003C6.76662 8.00049 6.54019 7.91911 6.36028 7.77003L0.360276 2.77003C0.156059 2.60029 0.0276347 2.35638 0.00325494 2.09196C-0.0211248 1.82753 0.0605371 1.56425 0.230276 1.36003C0.400014 1.15581 0.643926 1.02739 0.908352 1.00301C1.17278 0.978631 1.43606 1.06029 1.64028 1.23003L7.00028 5.71003L12.3603 1.39003C12.4626 1.30697 12.5803 1.24493 12.7066 1.2075C12.8329 1.17007 12.9654 1.15798 13.0965 1.17192C13.2275 1.18586 13.3545 1.22555 13.4701 1.28873C13.5857 1.3519 13.6878 1.4373 13.7703 1.54003C13.8619 1.64285 13.9312 1.76348 13.974 1.89435C14.0168 2.02523 14.0321 2.16353 14.019 2.30059C14.0058 2.43765 13.9645 2.57053 13.8976 2.69088C13.8307 2.81124 13.7397 2.91649 13.6303 3.00003L7.63028 7.83003C7.44519 7.95555 7.22338 8.0154 7.00028 8.00003Z"
        fill="#2D6255"
      />
    </svg>
  </button>
  <button
    class="btn btn-slider next"
    (click)="carousel.next()"
    *ngIf="carousel.activeId !== (profileService.children.length - 1).toString()"
  >
    <svg width="15" height="9" viewBox="0 0 15 9" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M7.00028 8.00003C6.76662 8.00049 6.54019 7.91911 6.36028 7.77003L0.360276 2.77003C0.156059 2.60029 0.0276347 2.35638 0.00325494 2.09196C-0.0211248 1.82753 0.0605371 1.56425 0.230276 1.36003C0.400014 1.15581 0.643926 1.02739 0.908352 1.00301C1.17278 0.978631 1.43606 1.06029 1.64028 1.23003L7.00028 5.71003L12.3603 1.39003C12.4626 1.30697 12.5803 1.24493 12.7066 1.2075C12.8329 1.17007 12.9654 1.15798 13.0965 1.17192C13.2275 1.18586 13.3545 1.22555 13.4701 1.28873C13.5857 1.3519 13.6878 1.4373 13.7703 1.54003C13.8619 1.64285 13.9312 1.76348 13.974 1.89435C14.0168 2.02523 14.0321 2.16353 14.019 2.30059C14.0058 2.43765 13.9645 2.57053 13.8976 2.69088C13.8307 2.81124 13.7397 2.91649 13.6303 3.00003L7.63028 7.83003C7.44519 7.95555 7.22338 8.0154 7.00028 8.00003Z"
        fill="#2D6255"
      />
    </svg>
  </button>
</div>

<div class="actions d-flex justify-content-between flex-lg-nowrap flex-wrap">
  <div class="d-none backdrop" *ngIf="myDrop.isOpen()"></div>
  <div class="filters text-mb mb-3 mb-lg-0">За все время</div>
  <div ngbDropdown #myDrop="ngbDropdown">
    <a class="text" href="javascript:;" ngbDropdownToggle>Получить выписку</a>
    <div ngbDropdownMenu class="cloud-dropdown">
      <p>
        Для получения выписки с информацией о покупке услуг Джунгликов, напишите нам вличном
        кабинете в разделе
        <br />
        <a routerLink="/profile/help">Помощь</a>
      </p>
    </div>
  </div>
</div>
<div class="payments">
  <div class="payment" *ngFor="let payment of payments">
    <p class="text mb-1">{{ payment.date | date: 'dd.MM.yyyy' }}</p>
    <p class="text mb-1">{{ getFormattedSum(payment.sum) }} ₽</p>
    <p class="text mb-1">{{ payment.comment }}</p>
  </div>
</div>

<span class="subt text-center close-btn" routerLink="/profile">Свернуть</span>
